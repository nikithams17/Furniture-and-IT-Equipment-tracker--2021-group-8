<div class="register-page">
    <mat-card class="mat-elevation-z12">
        <mat-card-title style="text-align:center; margin-top: 10px;margin-bottom: -20px;">Sign Up</mat-card-title>
        <mat-tab-group mat-stretch-tabs class="example-stretched-tabs">
            <mat-tab>
                <mat-card-content>
                    <form #registrationform="ngForm"
                        (ngSubmit)="registerUser(registrationform.value.username,registrationform.value.email)">

                        <mat-form-field>
                            <input matInput placeholder="User Name" required name="username" [(ngModel)]="user.username"
                                required pattern="^(?=[a-zA-Z0-9._]{4,20}$)(?!.*[_.]{2})[^_.].*[^_.]$"
                                #username="ngModel">
                            <mat-icon matSuffix>perm_identity</mat-icon>
                            <mat-error *ngIf="username.hasError('required')">Username is required</mat-error>
                            <mat-error *ngIf="username.hasError('pattern')">Enter Valid Username</mat-error>
                        </mat-form-field>


                        <mat-form-field>
                            <input matInput placeholder="Email" required name="email" [(ngModel)]="user.email" required
                                pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$"
                                #email="ngModel">
                            <mat-error *ngIf="email.hasError('required')">Email is required</mat-error>
                            <mat-error *ngIf="username.hasError('pattern')">Enter Valid Email</mat-error>
                            <mat-icon matSuffix>email</mat-icon>
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput placeholder="First Name" required name="first_name"
                                [(ngModel)]="user.first_name" required #first_name="ngModel">
                            <mat-error *ngIf="email.hasError('required')">First Name is required</mat-error>
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput placeholder="Last Name" required name="lastt_name"
                                [(ngModel)]="user.last_name" required #last_name="ngModel">
                            <mat-error *ngIf="email.hasError('required')">Last Name is required</mat-error>
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput placeholder="Password" type="password" name="password"
                                [(ngModel)]="user.password" required
                                pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$"
                                #password="ngModel">

                            <mat-error *ngIf="password.hasError('required')"> Password is required </mat-error>
                            <mat-error *ngIf="password.hasError('pattern')">Must Contain 8-15 Characters, at least 1
                                lowercase, 1 uppercase, 1 digit and 1 special character</mat-error>
                            <mat-icon matSuffix>lock</mat-icon>
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput placeholder="Confirm Password" type="password" name="cpassword" required
                                condition="cpassword.value==password.value" ngModel #cpassword="ngModel">
                            <small class="text-danger"
                                [class.d-none]="(cpassword.value==password.value) || cpassword.untouched">Password
                                doesnot match</small>
                            <mat-error *ngIf="password.hasError('required')"> Password is required </mat-error>
                            <mat-icon matSuffix>lock</mat-icon>
                        </mat-form-field>


                        <button mat-raised-button color="primary" class="login-button">
                            Sign Up
                        </button>
                        <small class="float-right" [routerLink]="['/login']">Already registered? click here to
                            sign in</small>
                    </form>
                </mat-card-content>
            </mat-tab>
        </mat-tab-group>
    </mat-card>
</div>